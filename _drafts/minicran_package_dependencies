setwd("C:/DJB/Data Sandpit/miniCRAN")
library(miniCRAN)

options(repos = c(CRAN = "http://cran.at.r-project.org/"))

pkgs <- c("data.table", "dplyr", "ggplot2","shiny", "shinydashboard", "shinyBS","reshape2","png","shinyTree","igraph","tm","caret")

pkgDep(pkgs, enhances=TRUE)

p <- makeDepGraph(pkgs, enhances = TRUE)

set.seed(1)
plot(p, cex=1, vertex.size=15)

localCRAN  <- "N:/Advanced Analytics/miniCRANrepo"
dir.create(localCRAN)


makeRepo(pkgDep(pkgs), path = localCRAN, type = "source")
makeRepo(pkgDep(pkgs), path = localCRAN, type = "win.binary")

list.files(path = localCRAN, recursive = TRUE)

uri <- paste0("file:///", normalizePath(localCRAN))
uri

options(repos = c(CRAN=uri))
getOption("repos")

available.packages(type="source")
available.packages()

